webpackJsonp([4],{ByPo:function(e,n,t){"use strict";var o=6,a=12,r={PHONE_REG:/^1[0-9]{10}$/,CAPTCHA_REG:/^[a-zA-Z]{4}$/,ID_CARD_REG:/^(\d{18}$|^\d{17}(\d|X|x))$/,SMS_CODE_REG:/^[0-9]{6}$/,BANK_ACCOUNT_REG:/^\d{16}|\d{19}$/},s={INVALID_PHONE_NUMBER:"手机号码不合法，请重新输入",PHONE_ALREADY_REGISTERED:"此手机号已被注册",PHONE_NOT_REGISTERED:"此手机号非注册用户",INVALID_CAPTCHA:"请输入4位英文字母验证码",PASS_TOO_SINPLE:"密码过于简单",PASS_TOO_LONE:"密码最长不超过"+a+"位字符串",PASS_NOT_NULL:"密码不能为空",PASS_UNEQUAL_PASS_CONF:"密码输入不匹配，请重新输入",SMS_CAN_NOT_BE_NULL:"请填写短信验证码",NAME_CAN_NOT_BE_NULL:"请填写姓名",ID_CARD_INVALID:"请填写正确的身份证号码",INVALID_SMS_CODE:"请输入正确的短信验证码",BANK_ACCOUNT:"请输入正确的银行卡号"};n.a={validatePhoneNum:function(e){return{boolean:r.PHONE_REG.test(e.trim()),msg:s.INVALID_PHONE_NUMBER}},validateCaptcha:function(e){return{boolean:r.CAPTCHA_REG.test(e.trim()),msg:s.INVALID_CAPTCHA}},validatePassword:function(e){var n="";return""==e.trim()?{boolean:!1,msg:n=s.PASS_NOT_NULL}:e.length<o?{boolean:!1,msg:n=s.PASS_TOO_SINPLE}:e.length>a?{boolean:!1,msg:n=s.PASS_TOO_LONE}:{boolean:!0,msg:n}},validatePassConf:function(e,n){return{boolean:e==n,msg:s.PASS_UNEQUAL_PASS_CONF}},validateSms:function(e){return{boolean:""!=e.trim(),msg:s.SMS_CAN_NOT_BE_NULL}},validateRealName:function(e){return{boolean:""!=e.trim(),msg:s.NAME_CAN_NOT_BE_NULL}},validateIdCard:function(e){return{boolean:r.ID_CARD_REG.test(e.trim()),msg:s.ID_CARD_INVALID}},validateSmsCode:function(e){return{boolean:r.SMS_CODE_REG.test(e.trim()),msg:s.INVALID_SMS_CODE}},validateBankAccount:function(e){return{boolean:r.BANK_ACCOUNT_REG.test(e.trim()),msg:s.BANK_ACCOUNT}}}},PCPd:function(e,n){},"T+/8":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("ByPo"),a={name:"login",data:function(){return{loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,n,t){var a=o.a.validateRealName(n);a.boolean?t():t(new Error(a.msg))},message:"请填写用户名"}],password:[{required:!0,trigger:"blur",validator:function(e,n,t){var a=o.a.validatePassword(n);a.boolean?t():t(new Error(a.msg))}}]},loginForm:{username:"",password:""},lang:{title:"系统登录",username:"用户名",password:"密码",logIn:"登录"},loading:!1,redirect:null,error:null}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(n){if(e.error=!1,!n)return!1;e.loading=!0,e.$store.dispatch("LoginByUsername",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:e.redirect||"/"})}).catch(function(n){e.loading=!1,e.error=!0})})}}},r={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,"auto-complete":"on","label-position":"left",rules:e.loginRules}},[t("div",{staticClass:"title-container"},[t("h3",[e._v(e._s(e.lang.title))])]),e._v(" "),t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticClass:"svg-container svg-container_login"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),t("el-input",{attrs:{placeholder:e.lang.username,name:"username",type:"text","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(n){e.$set(e.loginForm,"username",n)},expression:"loginForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),t("el-input",{attrs:{placeholder:e.lang.password,name:"passwod",type:"password","auto-complete":"on"},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.handleLogin(n):null}},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}})],1),e._v(" "),e.error?t("p",{staticClass:"error"},[e._v("用户名或密码错误")]):e._e(),e._v(" "),t("el-button",{staticClass:"login-button",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.handleLogin(n)}}},[e._v(e._s(e.lang.logIn))])],1)],1)},staticRenderFns:[]};var s=t("VU/8")(a,r,!1,function(e){t("pC7c"),t("PCPd")},"data-v-d46208ae",null);n.default=s.exports},pC7c:function(e,n){}});