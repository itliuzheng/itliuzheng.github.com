webpackJsonp([5],{PCPd:function(e,n){},"T+/8":function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=6,t=12,a={INVALID_PHONE_NUMBER:"手机号码不合法，请重新输入",PHONE_ALREADY_REGISTERED:"此手机号已被注册",PHONE_NOT_REGISTERED:"此手机号非注册用户",INVALID_CAPTCHA:"请输入4位英文字母验证码",PASS_TOO_SINPLE:"密码过于简单",PASS_TOO_LONE:"密码最长不超过"+t+"位字符串",PASS_NOT_NULL:"密码不能为空",PASS_UNEQUAL_PASS_CONF:"密码输入不匹配，请重新输入",SMS_CAN_NOT_BE_NULL:"请填写短信验证码",NAME_CAN_NOT_BE_NULL:"请填写姓名",ID_CARD_INVALID:"请填写正确的身份证号码",INVALID_SMS_CODE:"请输入正确的短信验证码",BANK_ACCOUNT:"请输入正确的银行卡号"},s=function(e){var n="";return""==e.trim()?{boolean:!1,msg:n=a.PASS_NOT_NULL}:e.length<o?{boolean:!1,msg:n=a.PASS_TOO_SINPLE}:e.length>t?{boolean:!1,msg:n=a.PASS_TOO_LONE}:{boolean:!0,msg:n}},i=function(e){return{boolean:""!=e.trim(),msg:a.NAME_CAN_NOT_BE_NULL}},l={name:"login",data:function(){return{loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,n,r){var o=i(n);o.boolean?r():r(new Error(o.msg))},message:"请填写用户名"}],password:[{required:!0,trigger:"blur",validator:function(e,n,r){var o=s(n);o.boolean?r():r(new Error(o.msg))}}]},loginForm:{username:"",password:""},lang:{title:"系统登录",username:"用户名",password:"密码",logIn:"登录"},loading:!1,redirect:null,error:null}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(n){if(e.error=!1,!n)return!1;e.loading=!0,e.$store.dispatch("LoginByUsername",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:e.redirect||"/"})}).catch(function(n){e.loading=!1,e.error=!0})})}}},u={render:function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,"auto-complete":"on","label-position":"left",rules:e.loginRules}},[r("div",{staticClass:"title-container"},[r("h3",[e._v(e._s(e.lang.title))])]),e._v(" "),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container svg-container_login"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),r("el-input",{attrs:{placeholder:e.lang.username,name:"username",type:"text","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(n){e.$set(e.loginForm,"username",n)},expression:"loginForm.username"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),r("el-input",{attrs:{placeholder:e.lang.password,name:"passwod",type:"password","auto-complete":"on"},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.handleLogin(n):null}},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}})],1),e._v(" "),e.error?r("p",{staticClass:"error"},[e._v("用户名或密码错误")]):e._e(),e._v(" "),r("el-button",{staticClass:"login-button",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.handleLogin(n)}}},[e._v(e._s(e.lang.logIn))])],1)],1)},staticRenderFns:[]};var c=r("VU/8")(l,u,!1,function(e){r("pC7c"),r("PCPd")},"data-v-d46208ae",null);n.default=c.exports},pC7c:function(e,n){}});